<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.001">
	<ScriptPackage>
		<Script isActive="yes" isFolder="no">
			<name>MuMem.Log.Library</name>
			<packageName></packageName>
			<script>function MuMeM.Log.initialize()
  MuMeM.Log.modules = MuMeM.Log.modules or {}
end

function MuMeM.Log.debug(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.DEBUG)
end

function MuMeM.Log.echo(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.INFO)
end

function MuMeM.Log.info(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.INFO)
end

function MuMeM.Log.notice(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.NOTICE)
end

function MuMeM.Log.warn(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.WARNING)
end

function MuMeM.Log.warning(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.WARNING)
end

function MuMeM.Log.err(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.ERROR)
end

function MuMeM.Log.error(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.ERROR)
end

function MuMeM.Log.crit(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.CRITICAL)
end

function MuMeM.Log.critic(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.CRITICAL)
end

function MuMeM.Log.critical(msg, moduleName)
  MuMeM.Log.write(msg, moduleName, MuMeM.Log.Level.CRITICAL)
end

function MuMeM.Log.write(msg, moduleName, logLevel)
  -- per module settings override global!
  if moduleName and MuMeM.Log.modules and MuMeM.Log.modules[moduleName] then
    if logLevel &gt; MuMeM.Log.modules[moduleName].logLevel then
      return
    end
  -- apply global level if we do not have per-module settings
  elseif logLevel &gt; MuMeM.Log.logLevel then 
    return
  end
  
  openUserWindow("MuMeM.Log", true, true, "f")
  
  moduleName = moduleName or "GLOBAL"
  echo("MuMeM.Log", "["..getTime(true,"hh:mm:ss").." "..MuMeM.Log.LevelAbbr[logLevel].."] ["
         ..moduleName.."] "..msg.."\n")
end</script>
			<eventHandlerList />
		</Script>
	</ScriptPackage>
</MudletPackage>
